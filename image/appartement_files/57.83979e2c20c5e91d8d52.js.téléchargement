(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[57],{BEgg:function(e,t,c){"use strict";c.d(t,"b",(function(){return l})),c.d(t,"a",(function(){return u}));var r=c("UutA"),n=c("DTV4"),a=c("V1hy"),i=c("91mD"),s=c("VrFA"),o=c("eHSK"),l=r.default.div.withConfig({componentId:"sc-oik2bb-0"})(["display:flex;justify-content:flex-start;margin-bottom:",";border-bottom:solid 1px ",";"],a.b,n.a.greyLighter),u=r.default.div.withConfig({componentId:"sc-oik2bb-1"})(["position:relative;padding:calc("," / 1.5) 0;font-size:",";font-weight:",';cursor:pointer;&:after{content:"";position:absolute;right:0;bottom:-1px;left:0;height:4px;border-radius:',";background-color:",";opacity:0;}&:hover{color:",";}&.selected{color:",";&:after{opacity:1;}}& + &{margin-left:calc("," * 2);}"],a.b,s.f,i.d,o.b,n.a.iris,n.a.iris,n.a.iris,a.b)},DsRe:function(e,t,c){"use strict";var r=c("mK0O"),n=c("dV/x"),a=(c("mXGw"),c("UutA")),i=c("V1hy"),s=c("DTV4"),o={grey:s.a.grey,greyLight:s.a.greyLight,white:s.a.white},l={normal:"100%",small:"75%"},u={normal:"3px",light:"2px"},d=a.default.span.withConfig({componentId:"sc-lsz94v-0"})([""," width:2rem;height:2rem;cursor:pointer;z-index:100;border-radius:100%;border:none;outline:none;",' &::before,&::after{content:"";display:block;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;width:',";height:",";background-color:",";border-radius:4px;}&::before{transform:rotate(45deg);}&::after{transform:rotate(-45deg);}"],(function(e){return"absolute"===e.position?Object(a.css)(["position:absolute;top:",";right:",";"],i.b,i.b):Object(a.css)(["position:relative;"])}),(function(e){return"transparent"===e.background?Object(a.css)(["background-color:transparent;"]):Object(a.css)(["background-color:rgba(221,221,221,0.7);transition:0.3s background-color;&:hover{background-color:rgba(221,221,221,0.9);}"])}),(function(e){var t=e.weight;return u[t]}),(function(e){var t=e.size;return l[t]}),(function(e){var t=e.color;return o[t]})),b=c("oYCi"),j=["weight","size","color","background","className","position"];function f(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function m(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?f(Object(c),!0).forEach((function(t){Object(r.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):f(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}t.a=function(e){var t=e.weight,c=void 0===t?"normal":t,r=e.size,a=void 0===r?"normal":r,i=e.color,s=void 0===i?"grey":i,o=e.background,l=void 0===o?"transparent":o,u=e.className,f=e.position,O=void 0===f?"absolute":f,p=Object(n.a)(e,j),h=p["data-testid"]||"default-closebtn-testid";return Object(b.jsx)(d,m(m({className:u,position:O,background:l,weight:c,size:a,color:s},p),{},{"data-testid":h}))}},LQ09:function(e,t,c){"use strict";c("mXGw");var r=c("oYCi");t.a=function(){return Object(r.jsxs)("svg",{className:"svg svgBudget",version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 20",children:[Object(r.jsx)("path",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M14.41,2.684c-1.076-0.801-2.337-1.271-3.693-1.271c-3.897,0-7.056,3.815-7.056,8.521s3.159,8.521,7.056,8.521c1.356,0,2.618-0.47,3.693-1.27"}),Object(r.jsx)("line",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",x1:"1.077",y1:"7.757",x2:"11.724",y2:"7.757"}),Object(r.jsx)("line",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",x1:"1.077",y1:"12.113",x2:"11.724",y2:"12.113"})]})}},SKAn:function(e,t,c){"use strict";var r=c("mXGw"),n=c.n(r),a=c("BEgg"),i=c("oYCi");t.a=function(e){var t=e.className,c=void 0===t?"":t,s=e.children,o=Object(r.useMemo)((function(){return n.a.Children.toArray(s)}),[s]),l=o.findIndex((function(e){return!0===e.props["data-selected"]})),u=Object(r.useState)(l),d=u[0],b=u[1];if(!s)return Object(i.jsx)(i.Fragment,{});var j=function(e){var t=e.props["data-label"];return"function"===typeof t?Object(i.jsx)(t,{}):t};return Object(i.jsxs)("div",{className:c,"data-testid":"tabs",children:[Object(i.jsx)(a.b,{"data-testid":"tabs-head",children:o.map((function(e,t){return Object(i.jsx)(a.a,{className:"".concat(t===d&&"selected"),onClick:(c=t,function(){return b(c)}),"data-testid":"tabs-head-label",children:j(e)},t);var c}))}),Object(i.jsx)("div",{"data-testid":"tabs-content",children:!!o[d]&&o[d]})]})}},cvT0:function(e,t,c){"use strict";var r=c("mK0O"),n=c("mXGw"),a=c("oYCi");function i(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function s(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?i(Object(c),!0).forEach((function(t){Object(r.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):i(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var o=Object(n.forwardRef)((function(e,t){var c=Object(n.useState)(!1),r=c[0],i=c[1],o=Object(n.useState)(!1),l=o[0],u=o[1],d=e.scrollElement?e.scrollElement:window,b=function(){"string"===typeof e.stickyClass&&""!==e.stickyClass&&"number"===typeof e.stickyLimit&&e.stickyLimit>-1&&function(){var t=e.scrollElement?d.scrollTop:window.scrollY||window.pageYOffset;!r&&t>e.stickyLimit?i(!0):r&&t<=e.stickyLimit&&i(!1)}(),"string"===typeof e.stuckClass&&""!==e.stuckClass&&"number"===typeof e.stuckLimit&&e.stuckLimit>e.stickyLimit&&function(){var t=e.scrollElement?d.scrollTop:window.scrollY||window.pageYOffset;!l&&t>e.stuckLimit?u(!0):l&&t<=e.stuckLimit&&u(!1)}()},j=function(){return d.removeEventListener("scroll",b)};return Object(n.useEffect)((function(){return function(){return i(!1)}}),[!0]),Object(n.useEffect)((function(){return r?document.body.classList.add(e.stickyClass):document.body.classList.remove(e.stickyClass),l?document.body.classList.add(e.stuckClass):document.body.classList.remove(e.stuckClass),d.addEventListener("scroll",b,!1),j}),[r,l,e.stickyLimit,e.stuckLimit]),Object(a.jsx)("div",s(s({className:e.className,style:s({},e.style||{}),ref:t,"data-testid":e.testId?e.testId:null},e.domProps||""),{},{children:e.children}))}));t.a=o},kQtr:function(e,t,c){"use strict";c.r(t),c.d(t,"SearchCriteriasResume",(function(){return Pt}));var r=c("mXGw"),n=c.n(r),a=c("/m4v"),i=c("aNYv"),s=c("Xp8U"),o=c("oYCi"),l=c("mK0O"),u=c("+eDt"),d=c("mBY8"),b=c("ss+S"),j=c.n(b);function f(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function m(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?f(Object(c),!0).forEach((function(t){Object(l.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):f(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var O=j.a.getItem({rfrr:"appartement"}),p=j.a.getItem({rfrr:"maison"}),h=j.a.getItem({rfrr:"loft"}),v=function(e,t){switch(t.type){case"UPDATE_PRICE":return m(m({},e),Object(u.a)(e,(function(e){"min"in t.payload&&(e.pxmin=t.payload.min),"max"in t.payload&&(e.pxmax=t.payload.max)})));case"UPDATE_LAW":return m(m({},e),Object(u.a)(e,(function(e){e.typeinvestissement.forEach((function(e){return e.selected=!1})),e.typeinvestissement.find((function(e){return e.id===t.payload.id})).selected=t.payload.value})));case"UPDATE_NB_ROOM":return m(m({},e),Object(u.a)(e,(function(e){e.nb_pieces.find((function(e){return e.id===t.payload.id})).selected=t.payload.checked})));case"UPDATE_SURFACES":return m(m({},e),Object(u.a)(e,(function(e){e.surfacemin=t.payload.min,e.surfacemax=t.payload.max})));case"UPDATE_SURFACES_TERRAIN":return m(m({},e),Object(u.a)(e,(function(e){e.surf_terrainmin=t.payload.min,e.surf_terrainmax=t.payload.max})));case"UPDATE_TYPE_BIEN":return m(m({},e),Object(u.a)(e,(function(e){e.idtypebien.find((function(e){return e.id===t.payload.id})).selected=t.payload.checked,e.idtypebien.filter((function(e){return e.selected})).length||(e.idtypebien.find((function(e){return e.id===O.id})).selected=!0,e.idtypebien.find((function(e){return e.id===p.id})).selected=!0,e.idtypebien.find((function(e){return e.id===h.id})).selected=!0)})));case"UPDATE_PMR":return m(m({},e),Object(u.a)(e,(function(e){e.si_pmr[0].selected=t.payload})));case"UPDATE_DELAYS":return m(m({},e),Object(u.a)(e,(function(e){e.nb_m_dt_dispo.forEach((function(e){return e.selected=!1})),e.nb_m_dt_dispo.find((function(e){return e.id===t.payload.id})).selected=t.payload.value})));case"RESET_DELAYS":return m(m({},e),Object(u.a)(e,(function(e){e.nb_m_dt_dispo.forEach((function(e){return e.selected=!1}))})));case"ADD_LOCALITY":return m(m({},e),Object(u.a)(e,(function(e){!!!e.localities.find((function(e){return e.id===t.payload.id}))&&e.localities.push(t.payload)})));case"REMOVE_LOCALITY":return m(m({},e),Object(u.a)(e,(function(e){e.localities=e.localities.filter((function(e){return e.id!==t.payload}))})));case"RESET_MODAL_FILTERS":return m(m({},e),Object(u.a)(e,(function(e){e.nb_pieces=d.a.criterias.nb_pieces,e.surfacemin=d.a.criterias.surfacemin,e.surfacemax=d.a.criterias.surfacemax,e.surf_terrainmin=d.a.criterias.surf_terrainmin,e.surf_terrainmax=d.a.criterias.surf_terrainmax,e.idtypebien=d.a.criterias.idtypebien,e.si_pmr=d.a.criterias.si_pmr,e.nb_m_dt_dispo=d.a.criterias.nb_m_dt_dispo})));case"UPDATE_ALL":return t.payload}},g=Object(r.createContext)({}),x=function(e){var t=e.reducer,c=e.initialState,n=e.children;return Object(o.jsx)(g.Provider,{value:Object(r.useReducer)(t,c),children:n})},y=function(){return Object(r.useContext)(g)};var C=Object(a.connect)((function(e){return{criterias:e.criterias}}))((function(e){var t=e.criterias,c=y(),n=Object(i.a)(c,2),a=n[0],s=n[1];return Object(r.useEffect)((function(){a!==t&&s({type:"UPDATE_ALL",payload:t})}),[t]),Object(o.jsx)(o.Fragment,{})})),k=c("z7Gu");c("dL04");var w=Object(a.connect)((function(e){return{device:e.device}}))((function(e){var t=e.device,c=e.onClear,n=y(),a=Object(i.a)(n,2),s=a[0].localities,l=a[1],u=Object(r.useCallback)((function(e){return function(){return l({type:"REMOVE_LOCALITY",payload:e})}}),[]);return Object(o.jsx)("div",{className:"criteriaBlock criterialLocalityActual","data-testid":"search-autocomplete-actual",children:!(null===s||void 0===s||!s.length)&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("p",{className:"criteriaBlockTitle summary18 fwSemBold","data-testid":"search-autocomplete-actual-label",children:["Recherche actuelle",t.mobile&&Object(o.jsx)("span",{className:"criterialLocalityActualClear summary14 fwBold",onClick:c,"data-testid":"search-autocomplete-actual-clear",children:"Tout effacer"})]}),Object(o.jsx)("div",{className:"criterialLocalityActualList",children:s.map((function(e){return Object(o.jsxs)("div",{className:"localityTag summary12",onClick:u(e.id),"data-testid":"search-autocomplete-actual-locality-item",children:[Object(o.jsx)("span",{children:e.label})," ",Object(o.jsx)(k.a,{})]},e.id)}))})]})})})),L=c("eijD"),N=c("Lbod"),S=c("NthX"),E=c.n(S),_=c("qtVV"),P=c("tc0N"),I=c("qavi");c("cbAs");var T=Object(a.connect)((function(e){return{BFF_URI:e.config.BFF_URI}}))((function(e){var t=e.onClick,c=e.onHover,n=e.id,a=e.name,s=e.focus,l=e.subtitle,u=e.BFF_URI;if(!n||!a)return Object(o.jsx)(o.Fragment,{});var d=y(),b=Object(i.a)(d,2);Object(N.a)(b[0]);var j=b[1],f=Object(r.useRef)(s),m=Object(r.useState)(!1),O=m[0],p=m[1],h=Object(r.useCallback)((function(e){return j({type:"ADD_LOCALITY",payload:e})}),[]),v=Object(r.useCallback)(Object(L.a)(E.a.mark((function e(){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=2;break}return e.abrupt("return");case 2:return p(!0),e.prev=3,e.next=6,Object(_.localityInfosAPI)({host:u,args:{localities:[n]}});case 6:if(null!==(c=e.sent)&&void 0!==c&&c[0]){e.next=11;break}return e.abrupt("return");case 11:h(c[0]),"function"===typeof t&&t(c[0]);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(3),new Error("locality infos error (criteriaLocalityAutocompleteItem.jsx) : ".concat(e.t0));case 18:case"end":return e.stop()}}),e,null,[[3,15]])}))),[n,t,O]),g=Object(r.useCallback)((function(e){return 13===e.keyCode&&f.current&&v()}),[v]),x="function"===typeof c?c:null;return Object(r.useEffect)((function(){return window.addEventListener("keydown",g),function(){return window.removeEventListener("keydown",g)}}),[]),Object(r.useEffect)((function(){f.current=s}),[s]),Object(o.jsx)("div",{className:"criteriaLocalityItem ".concat(s?"focus":"").trim(),onClick:v,"data-testid":"search-autocomplete-item-locality",onMouseOver:x,children:Object(o.jsxs)("div",{className:"criteriaLocalityItemWrap",children:[Object(o.jsx)(I.a,{}),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{className:"criteriaLocalityItemTitle summary16 fwBold",children:a}),Object(o.jsx)("p",{className:"criteriaLocalityItemSub summary16",children:l})]}),Object(o.jsx)(P.a,{})]})})})),R=c("lUXb"),D=c.n(R),A=c("NU8A"),F=c("vc3k"),B=c("UutA"),M=B.default.div.withConfig({componentId:"sc-773g6f-0"})(["> div{width:100%;}"]),z=D()([[{width:"100%",height:"76px"},Object(A.line)({fontSize:16,width:"43%",top:18,color:F.g}),Object(A.line)({fontSize:16,width:"66%",top:42,color:F.g})]]).Skulletor,U=function(){return Object(o.jsx)("div",{className:"criteriaLocalityItem placeholder","data-testid":"search-autocomplete-item-placeholder",children:Object(o.jsxs)(M,{className:"criteriaLocalityItemWrap",children:[Object(o.jsx)(I.a,{}),Object(o.jsx)(z,{}),Object(o.jsx)(P.a,{})]})})};c("jcSs");var V=Object(a.connect)((function(e){return{localitySuggestions:e.localitySuggestions,BFF_URI:e.config.BFF_URI,device:e.device}}))((function(e){var t=e.localitySuggestions,c=e.BFF_URI,n=e.device,a=e.dispatch,l=y(),u=Object(i.a)(l,1)[0].localities,d=Object(r.useMemo)((function(){return null===u||void 0===u?void 0:u[0]}),[u]),b=t[null===d||void 0===d?void 0:d.id],j=Object(r.useState)([]),f=j[0],m=j[1],O=Object(r.useMemo)((function(){return u.map((function(e){return e.id}))}),[u]),p=Object(r.useCallback)((function(e){return!O.includes(e.id)}),[O]),h=Object(r.useCallback)((function(e){return e.filter(p).slice(0,3)}),[p]),v=Object(r.useCallback)((function(){return b?h(b):[]}),[h,b]);return function(e){var t=e.BFF_URI,c=e.firstLoc,n=e.loadedSuggestions,a=e.dispatch;Object(r.useEffect)((function(){c&&!((null===c||void 0===c?void 0:c.id)in n)&&Object(_.autocompleteAroundLocalityAPI)({host:t,args:c,onSuccess:function(e){return a({action:s.Keys.Autocomplete,type:"ADD_SUGGESTIONS",payload:{zoneId:c.id,suggestions:null!==e&&void 0!==e&&e.length?e:[]}})}})}))}({BFF_URI:c,dispatch:a,loadedSuggestions:t,firstLoc:d}),Object(r.useEffect)((function(){m(v())}),[u,t]),!d||b&&!f.length?Object(o.jsx)(o.Fragment,{}):Object(o.jsxs)("div",{className:"criteriaLocalitySuggest",children:[Object(o.jsx)("p",{className:"criteriaBlockTitle summary18 fwSemBold","data-testid":"search-autocomplete-suggest-title",children:"Suggestions aux alentours"}),Object(o.jsx)("div",{className:"criteriaLocalitySuggestList","data-testid":"search-autocomplete-suggest-list",children:f.length?f.map((function(e){var t=e.id,c=e.name,r=e.subtitleMobile,a=e.subtitle;return Object(o.jsx)(T,{id:t,name:c,subtitle:n.mobile&&38920!==t?r:a},t)})):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(U,{}),Object(o.jsx)(U,{}),Object(o.jsx)(U,{})]})})]})})),H=c("sHSe"),Y=c("l9Lz"),G=c("kTfG"),K=c("lkEI"),W=(c("rwEB"),function(e){Object(N.a)(e);var t=Object(r.useState)(null),c=t[0],n=t[1],a=Object(r.useMemo)((function(){return 1===(null===c||void 0===c?void 0:c.length)?"Recherche r\xe9cente":"Recherches r\xe9centes"}),[c]);return Object(r.useEffect)((function(){n(Object(Y.storageStackGet)(H.LS_SEARCHS))}),[]),Object(o.jsx)(G.a,{storageToClear:H.LS_SEARCHS,stateUpdateFunction:n,stateUpdateValue:[],children:Object(o.jsxs)("div",{className:"criteriaBlock criteriaLocalitySavedSearchs","data-testid":"search-autocomplete-savedSearch",children:[Object(o.jsx)("p",{className:"criteriaBlockTitle summary18 fwSemBold","data-testid":"search-autocomplete-savedSearch-label",children:a}),null===c||void 0===c?void 0:c.map((function(e){return Object(o.jsx)(K.a,{item:e},e.id)}))]})})}),X=c("g8BQ");c("Yrnc");function q(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function J(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?q(Object(c),!0).forEach((function(t){Object(l.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):q(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var Q=Object(a.connect)((function(e){return{device:e.device}}))((function(e){var t=e.onClear,c=e.onSave,n=e.label,a=void 0===n?"Enregistrer":n,i=e.border,s=void 0===i||i,l=e.testIdSuffix,u=void 0===l?"":l,d=e.device,b=e.disabled,j=Object(r.useCallback)((function(){return"function"===typeof t&&t()}),[t]),f=Object(r.useCallback)((function(){return"function"===typeof c&&c()}),[c]);return Object(o.jsxs)("div",{className:"criteriaBottom",children:[!d.mobile&&Object(o.jsx)("p",{className:"criteriaBottomClear summary14 fwBold",onClick:j,"data-testid":"search-criteria-bottom-clear",children:"Tout effacer"}),Object(o.jsx)(X.b,J(J({},b?{grey:!0}:{pink:!0}),{},{className:"criteriaBottomBtn",label:a,border:s&&!b,onClick:f,disabled:b,testId:"search-criteria-bottom-show".concat(u)}))]})})),Z=c("DsRe");c("p6yv");var $=Object(a.connect)((function(){return{}}))((function(e){var t=e.visible,c=e.onClose,n=e.dispatch,a=y(),l=Object(i.a)(a,1)[0].localities,u=Object(r.useCallback)((function(){return n({action:s.Keys.Autocomplete,type:"UPDATE_LOCALITY",payload:{localities:[]}})}),[]);return Object(o.jsx)("div",{className:"criteriaModal criteriaLocalityHome ".concat(t?"visible":""),children:t&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Z.a,{className:"criteriaModalClose",size:"small",weight:"light",color:"greyLight",onClick:c,"data-testid":"search-locality-home-close"}),Object(o.jsx)("div",{className:"criteriaModalScroll",children:Object(o.jsx)("div",{className:"criteriaModalScrollWrap",children:l.length?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(w,{onClear:u}),Object(o.jsx)(V,{})]}):Object(o.jsx)(W,{})})}),!!l.length&&Object(o.jsx)(Q,{onClear:u,onSave:c,label:"Voir les programmes",border:!1,testIdSuffix:"-localite"})]})})}));c("+q3b");var ee=Object(a.connect)((function(e){return{BFF_URI:e.config.BFF_URI,device:e.device}}))((function(e){var t=e.keyword,c=e.onAdd,n=e.BFF_URI,a=e.device,s=Object(r.useState)(0),l=s[0],u=s[1],d=y(),b=Object(i.a)(d,1)[0].localities,j=function(e){var t=e.BFF_URI,c=e.keyword,n=e.selectedLocalities,a=Object(r.useRef)(null),i=Object(r.useState)([]),s=i[0],o=i[1],l=Object(r.useCallback)((function(){clearTimeout(a.current),a.current=setTimeout((function(){c&&Object(_.autocompleteLocalityAPI)({host:t,query:c,onSuccess:function(e){var t=e.filter((function(e){return!n.map((function(e){return e.id})).includes(e.id)}));o(t)},onError:function(e){throw new Error(e)}})}),200)}),[c]);return Object(r.useEffect)(l,[c]),[s,o]}({BFF_URI:n,keyword:t,selectedLocalities:b}),f=Object(i.a)(j,2),m=f[0],O=f[1],p=Object(r.useRef)(0);Object(r.useEffect)((function(){!t&&O([]),!t&&u(0)}),[t]),Object(r.useEffect)((function(){p.current=m.length}),[m]);var h=function(){return u((function(e){return 0===e?p.current-1:e-1}))},v=function(){return u((function(e){return e<p.current-1?e+1:0}))},g=Object(r.useCallback)((function(e){switch(e.key){case"ArrowUp":h();break;case"Tab":case"ArrowUp":v();break;default:return}}),[h,v]);return Object(r.useEffect)((function(){return window.addEventListener("keydown",g),function(){return window.removeEventListener("keydown",g)}}),[]),Object(o.jsx)("div",{className:"criteriaModal criteriaLocalityAutocomplete ".concat(t?"visible":""),children:!!t&&Object(o.jsx)(o.Fragment,{children:m.length?m.map((function(e,t){return Object(o.jsx)(T,{id:e.id,name:e.name,focus:t===l,subtitle:a.mobile&&38920!==e.id?e.subtitleMobile:e.subtitle,onClick:c,onHover:function(){return u(t)}},e.id)})):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(U,{}),Object(o.jsx)(U,{}),Object(o.jsx)(U,{})]})})})})),te=c("PGjf"),ce=c("2D0T"),re=c("vaED"),ne=c("CgTg");c("OxUr");var ae=Object(a.connect)((function(e){var t=e.device;return{isRefinerLocalityDisplay:e.globals.isRefinerLocalityDisplay,device:t}}))((function(e){var t=e.device,c=e.isRefinerLocalityDisplay,n=e.onClose,a=e.dispatch,l=y(),u=Object(i.a)(l,1)[0].localities,d=Object(r.useRef)(null),b=Object(r.useState)(null),j=b[0],f=b[1],m=Object(r.useCallback)((function(){return f(d.current.value)}),[]),O=Object(r.useCallback)((function(){f(""),d.current.value=""}),[d.current]),p=Object(r.useCallback)((function(){c&&d.current.focus()}),[d.current,c]),h=Object(r.useCallback)((function(){n(),c&&a({action:s.Keys.Commons,type:"TOGGLE_REFINER_LOCALITY",payload:!1}),O()}),[O,c,n]),v=Object(r.useCallback)((function(e){return 9===e.keyCode&&e.preventDefault()}),[]);return Object(r.useEffect)(p,[c,u.length]),Object(o.jsxs)(ne.a,{className:"criteria criteriaLocality ".concat(c?"open":""),isActive:c,callback:h,testId:"search-locality",children:[Object(o.jsxs)("div",{className:"criteriaLocalityField",children:[null!==t&&void 0!==t&&t.mobile?Object(o.jsx)(ce.a,{onClick:h,testId:"search-autocomplete-close"}):Object(o.jsx)(te.a,{}),Object(o.jsx)("input",{className:"criteriaLocalityInput",type:"text",ref:d,onChange:m,onKeyDown:v,"data-testid":"search-autocomplete-input",placeholder:"Ajouter une localit\xe9"}),Object(o.jsx)(re.a,{className:j?"show":null,onClick:O})]}),Object(o.jsx)($,{onClose:h,visible:!j&&c}),Object(o.jsx)(ee,{keyword:j,onAdd:O})]})})),ie=c("V1hy"),se=c("Nl+n"),oe=c("CdHe"),le=c("oj5K"),ue=c("QC+a"),de=Object(B.default)(le.a).withConfig({componentId:"sc-1hthhkv-0"})(["padding:0;","{padding:calc("," * 1.5);}","{display:none;}","{height:100%;.criteriaBottomClear{cursor:pointer;}}.criteria{height:100%;&Modal{height:100%;}}"],ue.g,ie.b,ue.b,ue.c),be=Object(B.default)(de).withConfig({componentId:"sc-1hthhkv-1"})([".criteriaBottom{margin-top:calc("," * 2);}"],ie.b),je=Object(B.default)(de).withConfig({componentId:"sc-1hthhkv-2"})(["","{height:100%;margin-top:0;padding:",";padding-top:calc("," * 1.5);border-radius:0;box-shadow:",";}","{display:block;position:absolute;top:calc("," * 1.5);right:auto;bottom:auto;left:",";}@media screen and (min-width:","){padding:"," "," 20vh ",";pointer-events:none;background-color:transparent;","{height:90vh;max-height:900px;margin-top:",";padding:calc("," * 2);padding-bottom:",";pointer-events:all;}","{position:absolute;top:calc("," * 2);right:calc("," * 2);left:auto;}}"],ue.g,ie.b,ie.b,se.b,ue.b,ie.b,ie.b,oe.b,ie.b,ie.b,ie.b,ue.g,ie.b,ie.b,ie.b,ue.b,ie.b,ie.b);var fe=Object(a.connect)((function(e){return{isRefinerLocalityDisplay:e.globals.isRefinerLocalityDisplay}}))((function(e){var t=e.isRefinerLocalityDisplay,c=e.onClose,n=Object(r.useRef)(null),a=Object(r.useCallback)((function(){t?n.current.open():n.current.close()}),[n.current,t]);return Object(r.useEffect)(a,[t]),Object(o.jsx)(de,{ref:n,className:"popinCriteria",testIdPrefix:"popin-criteria-locality",children:Object(o.jsx)(ae,{onClose:c})})})),me=c("5dyF"),Oe=c.n(me),pe=c("9ag8"),he=function(){return Object(o.jsx)("svg",{className:"svg svgLogo svgLogoSmall",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 23",children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M16.755 2.956a26.138 26.138 0 0 0-2.636-.575c-.905-.15-2.056-.225-3.42-.225-2.362 0-4.211.45-5.496 1.337-1.267.874-2.061 2.176-2.363 3.868-.192 1.083-.104 2.046.263 2.864.367.82.975 1.503 1.804 2.031l4.123 2.65c.486.31.808.589.985.854.197.296.265.62.204.963-.098.556-.342.978-.723 1.251-.371.268-1.002.399-1.93.399-.288 0-.679-.013-1.158-.036a42.72 42.72 0 0 1-1.565-.108 89.91 89.91 0 0 1-1.691-.159 31.555 31.555 0 0 1-1.529-.192h-.116a.427.427 0 0 0-.308.108.502.502 0 0 0-.16.292L.53 21.14c-.045.255.028.367.29.439.412.115.88.219 1.394.311.512.092 1.054.175 1.613.245a27.59 27.59 0 0 0 1.643.157c.538.034 1.054.052 1.538.052 1.252 0 2.374-.15 3.333-.445.955-.293 1.785-.699 2.47-1.204a6.152 6.152 0 0 0 1.641-1.795c.413-.692.693-1.44.832-2.22.079-.446.115-.9.105-1.35a3.55 3.55 0 0 0-.275-1.277 4.566 4.566 0 0 0-.8-1.251c-.359-.41-.86-.824-1.486-1.23L8.888 9.06c-.341-.23-.593-.438-.771-.637-.223-.251-.307-.572-.244-.93.113-.636.473-.924.755-1.053.354-.163.886-.242 1.623-.242.453 0 .974.018 1.548.054.564.035 1.13.076 1.681.124.549.047 1.06.102 1.522.16.45.058.801.099 1.047.12h.091c.165 0 .332-.03.398-.4l.508-2.86c.045-.257-.028-.367-.29-.44M26.773 22.013c-.243.058-.545.107-.938.162-.478.066-1.022.124-1.566.165-.447.034-1.113.051-1.5.051-.932 0-1.815-.077-2.65-.232-.836-.155-1.538-.456-2.11-.902-.57-.447-.975-1.08-1.217-1.906-.242-.824-.244-1.895-.01-3.214l2.674-15.041a.686.686 0 0 1 .247-.407.668.668 0 0 1 .438-.175h3.81c.156 0 .282.059.377.175.096.117.13.252.102.407l-2.673 15.041c-.135.757-.086 1.275.145 1.556.23.281.686.423 1.365.423h4.2c.154 0 .28.057.376.174a.48.48 0 0 1 .101.407l-.48 2.705c-.06.33-.289.534-.691.611"})})};c("rRow");function ve(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function ge(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(c),!0).forEach((function(t){Object(l.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):ve(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var xe=Object(a.connect)((function(e){return{localities:e.criterias.localities}}))((function(e){var t=e.localities,c=e.onClick,n=Object(r.useCallback)((function(){return"function"===typeof c&&c()}),[c]);return Object(o.jsxs)("div",{className:"resumeLocalityField",children:[Object(o.jsx)(Oe.a,ge(ge({prefetch:!1},pe.Home.getLink({})),{},{children:Object(o.jsx)("a",{className:"resumeLocalityFieldLogo","data-testid":"search-autocomplete-logo",children:Object(o.jsx)(he,{})})})),Object(o.jsxs)("div",{className:"resumeLocalityFieldWrap summary18",onClick:n,"data-testid":"search-autocomplete-resume",children:[Object(o.jsx)(te.a,{}),Object(o.jsxs)("span",{className:"wrapText",children:[Object(o.jsx)("span",{className:"resumeLocalityFieldLabel fwSemBold","data-testid":"search-autocomplete-resume-label",children:t[0]?t[0].label:"Ajouter une localit\xe9"}),Object(o.jsxs)("span",{className:"resumeLocalityFieldOther","data-testid":"search-autocomplete-resume-other",children:[t.length>1&&"et ".concat(t.length-1," de plus"),1===t.length&&"Un autre lieu ?"]})]})]})]})}));var ye=Object(a.connect)((function(e){return{isRefinerLocalityDisplay:e.globals.isRefinerLocalityDisplay,storeLocalities:e.criterias.localities,device:e.device}}))((function(e){var t=e.dispatch,c=e.isRefinerLocalityDisplay,n=e.storeLocalities,a=e.device,l=y(),u=Object(i.a)(l,1)[0].localities,d=Object(r.useCallback)((function(){return t({action:s.Keys.Commons,type:"TOGGLE_REFINER_LOCALITY",payload:!c})}),[c]),b=Object(r.useCallback)((function(){return t({action:s.Keys.Criterias,type:"UPDATE_LOCALITIES",payload:u})}),[u]),j=Object(r.useCallback)((function(){n!==u&&b()}),[n,u]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(xe,{onClick:d}),a.mobile?Object(o.jsx)(fe,{onClose:j}):Object(o.jsx)(ae,{onClose:j})]})})),Ce=c("pSmV"),ke=c.n(Ce),we=c("6CzD"),Le=c("SKAn"),Ne=c("Xf/p"),Se=c("h5Dh"),Ee=Object(B.default)(Ne.a).withConfig({componentId:"sc-v2f7w8-0"})(["","{position:absolute;top:0;right:0;bottom:0;margin:auto;}"],Se.b);c("CO9f");function _e(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function Pe(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(c),!0).forEach((function(t){Object(l.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):_e(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var Ie=Object(a.connect)((function(e){return{device:e.device}}))((function(e){var t=e.device,c=y(),n=Object(i.a)(c,2),a=n[0].typeinvestissement,s=n[1],l=Object(r.useMemo)((function(){return ke.a.insertStateIntoComponent(a)}),[a]),u=Object(r.useCallback)((function(e){var t=e.id;return s({type:"UPDATE_LAW",payload:{id:t,value:!0}})}),[]),d=Object(r.useCallback)((function(e){var c=e.values;return{key:e.key,values:Object(we.a)(c).map((function(e){var c,r,n=e.radiolabel,a=e.description,i=e.selected,s=e.value,l=e.id;return{label:t.mobile?(c=n,r=a,function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{className:"fwSemBold",children:c}),Object(o.jsx)("span",{className:"legend summary14",children:r})]})}):n,description:t.mobile?null:a,selected:i,value:s,id:l}}))}}),[t]),b=Object(r.useMemo)((function(){return d(Pe(Pe({},l),{},{values:l.values.filter((function(e){return"invest"!==e.type}))}))}),[l]),j=Object(r.useMemo)((function(){return d(Pe(Pe({},l),{},{values:l.values.filter((function(e){return"invest"===e.type}))}))}),[l]),f=Object(r.useMemo)((function(){var e;return!(null===(e=j.values.find((function(e){return e.selected})))||void 0===e||!e.selected)}),[l]);return Object(o.jsxs)(Le.a,{className:"criteriaLawsTabs",children:[Object(o.jsx)("div",{"data-label":"Habiter","data-selected":!f,children:Object(o.jsx)(Ee,Pe(Pe({},b),{},{testId:"search-laws-habiter",onChange:u}))}),Object(o.jsx)("div",{"data-label":"Investissement locatif","data-selected":f,children:Object(o.jsx)(Ee,Pe(Pe({},j),{},{testId:"search-laws-invest",onChange:u}))})]})})),Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(r.useState)(JSON.stringify(e)),c=t[0],n=t[1],a=Object(r.useState)(!1),i=a[0],s=a[1],o=function(e){s(!1),n(JSON.stringify(e))};return Object(r.useEffect)((function(){var t=c!==JSON.stringify(e);t!==i&&s(t)}),e),[i,o]};c("d7RA");var Re=Object(a.connect)((function(e){return{device:e.device}}))((function(e){var t=e.onClear,c=e.onClose,n=e.visible,a=e.ignoreRef,s=e.device,l=y(),u=Object(i.a)(l,1)[0].typeinvestissement,d=Te([u]),b=Object(i.a)(d,2),j=b[0],f=b[1],m=Object(r.useCallback)((function(){c(),f([u])}),[u,c]);return Object(o.jsx)(ne.a,{className:"criteria criteriaLaws ".concat(n?"open":""),testId:"search-laws",callback:m,isActive:n,ignoreNodeRef:a,children:Object(o.jsxs)("div",{className:"criteriaModal ".concat(n?"visible":""),"data-testid":"search-laws-modal",children:[Object(o.jsxs)("p",{className:"criteriaModalTitle summary18 fwSemBold",children:[s.mobile&&Object(o.jsx)(Z.a,{position:"relative",weight:"light",onClick:c,"data-testid":"search-laws-close-mobile"}),Object(o.jsx)("span",{className:"criteriaModalTitleText","data-testid":"search-budget-title",children:"Loi et dispositifs"}),s.mobile?Object(o.jsx)("span",{className:"criteriaModalTitleErase summary14 fwSemBold pink",onClick:t,"data-testid":"search-laws-clear",children:"Effacer"}):Object(o.jsx)(Z.a,{position:"relative",size:"small",weight:"light",color:"greyLight",onClick:c,"data-testid":"search-laws-close-desktop"})]}),Object(o.jsx)("div",{className:"criteriaModalScroll",children:Object(o.jsx)("div",{className:"criteriaModalScrollWrap",children:Object(o.jsx)(Ie,{})})}),Object(o.jsx)(Q,{border:!j,onClear:t,onSave:m,testIdSuffix:"-dispositif"})]})})})),De=function(e){var t=e.visible,c=e.onClose,n=e.onClear,a=Object(r.useRef)(null),i=Object(r.useCallback)((function(){t?a.current.open():a.current.close()}),[a.current,t]);return Object(r.useEffect)(i,[t]),Object(o.jsx)(de,{ref:a,className:"popinCriteria popinCriteriaLaws",testIdPrefix:"popin-criteria-laws",children:Object(o.jsx)(Re,{visible:t,onClose:c,onClear:n})})},Ae=c("1Pd9"),Fe=(c("iACe"),n.a.forwardRef((function(e,t){var c=e.className,n=e.value,a=e.active,i=e.count,s=e.hideChevron,l=void 0!==s&&s,u=e.placeholder,d=e.onClick,b=e.onClear,j=e.open,f=e.testId,m=Object(r.useCallback)((function(e){null===e||void 0===e||e.stopPropagation(),"function"===typeof d&&d(e)}),[d]),O=!!a||!!n,p=Object(r.useMemo)((function(){var e=["resumeTag"];return c&&e.push(c),O&&e.push("active"),j&&e.push("open"),e.join(" ")}),[c,O,j]);return Object(o.jsx)("div",{className:p,"data-testid":f?"".concat(f):null,ref:t,children:Object(o.jsxs)("div",{className:"resumeTagWrap",onClick:m,"data-testid":f?"".concat(f,"-wrap"):null,children:[Object(o.jsx)("p",{className:"resumeTagLabel summary16","data-testid":f?"".concat(f,"-label"):null,children:n||u}),"number"!==typeof i?O?Object(o.jsx)(k.a,{onClick:function(e){null===e||void 0===e||e.stopPropagation(),"function"===typeof b&&b(e)},testId:f?"".concat(f,"-clear"):null}):!l&&Object(o.jsx)(Ae.a,{testId:f?"".concat(f,"-arrow"):null}):Object(o.jsx)("span",{className:"resumeTagCount summary12 white","data-testid":f?"".concat(f,"-count"):null,children:i})]})})}))),Be=c("qlpd");var Me=Object(a.connect)((function(e){var t=e.criterias[ke.a.key];return{device:e.device,storeInvest:t}}))((function(e){var t=e.device,c=e.storeInvest,n=e.dispatch,a=Object(r.useMemo)((function(){var e;return null===(e=ke.a.insertStateIntoComponent(c).values.find((function(e){return e.selected})))||void 0===e?void 0:e.label}),[c]),l=Object(r.useRef)(null),u=y(),d=Object(i.a)(u,1)[0].typeinvestissement,b=Object(Be.useTypeInvestissementSource)(),j=Object(i.a)(b,2)[1],f=Object(r.useState)(!1),m=f[0],O=f[1],p=Object(r.useCallback)((function(){return n({action:s.Keys.Criterias,type:"REMOVE_INVESTISSEMENT"})}),[]),h=Object(r.useCallback)((function(){j("classic_filter"),n({action:s.Keys.Criterias,type:"UPDATE_INVEST",payload:d})}),[d]),v=Object(r.useCallback)((function(){return O((function(e){return!e}))}),[m]),g=Object(r.useCallback)((function(){m&&O(!1),d!==c&&h()}),[d,c,m]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Fe,{ref:l,className:"tagLaw",placeholder:ke.a.placeholder,value:a,onClick:v,onClear:p,open:m,testId:"search-laws-tag"}),t.mobile?Object(o.jsx)(De,{visible:m,onClear:p,onClose:g}):Object(o.jsx)(Re,{visible:m,onClear:p,onClose:g,ignoreRef:l})]})})),ze=c("OTPg"),Ue=c("LQ09"),Ve=c("fT0G"),He=c("B0wS"),Ye=c.n(He),Ge=c("GCRc"),Ke=c.n(Ge),We=(c("tucw"),function(e,t){var c=function(e){return Object(Ve.formatDigit)(Object(Ve.formatedDigitToNum)(e)<t?e:t.toString())},n=c(e),a=Object(r.useState)(n),i=a[0],s=a[1];return[i,function(e){return s(c(e))}]}),Xe=function(){var e=y(),t=Object(i.a)(e,2),c=t[0],n=c.pxmin,a=c.pxmax,s=t[1],l=We(n,Ye.a.valueLimit),u=Object(i.a)(l,2),d=u[0],b=u[1],j=We(a,Ke.a.valueLimit),f=Object(i.a)(j,2),m=f[0],O=f[1],p=Object(r.useState)(null),h=p[0],v=p[1],g=Object(r.useCallback)((function(e,t){var c=Object(Ve.formatedDigitToNum)(e),r=Object(Ve.formatedDigitToNum)(t);return!c||!r||"number"===typeof c&&"number"===typeof r&&c<=r}),[]);Object(r.useEffect)((function(){v(g(d,m)?null:"Le budget minimum ne peut pas \xeatre sup\xe9rieur au budget maximum"),x(d,m)}),[d,m]),Object(r.useEffect)((function(){b(n),O(a)}),[n,a]);var x=Object(r.useCallback)((function(e,t){var c=Object(Ve.formatedDigitToNum)(e),r=Object(Ve.formatedDigitToNum)(t);n===c&&a===r||s({type:"UPDATE_PRICE",payload:{min:c,max:r}})}),[n,a]);return Object(o.jsxs)("div",{className:"criteriaBudgetInputs",children:[Object(o.jsx)(ze.a,{label:"Minimum",placeholder:"0",value:d,onChange:b,icon:Ue.a,large:!0,error:h,testId:"search-budget-min-input"}),Object(o.jsx)(ze.a,{label:"Maximum",placeholder:"0",value:m,onChange:O,large:!0,icon:Ue.a,testId:"search-budget-max-input"})]})};c("HsfH");var qe=Object(a.connect)((function(e){return{device:e.device}}))((function(e){var t=e.onClear,c=e.onClose,n=e.visible,a=e.ignoreRef,s=e.device,l=y(),u=Object(i.a)(l,2),d=u[0],b=d.pxmin,j=d.pxmax,f=u[1],m=Te([b,j]),O=Object(i.a)(m,2),p=O[0],h=O[1],v=Object(r.useState)(!1),g=v[0],x=v[1];Object(r.useEffect)((function(){x(b>j&&0!==j)}),[b,j]);var C=Object(r.useCallback)((function(){f({type:"UPDATE_PRICE",payload:{min:0,max:0}}),t()}),[t]),k=Object(r.useCallback)((function(){c(),h([b,j])}),[b,j,c]);return Object(o.jsx)(ne.a,{className:"criteria criteriaBudget ".concat(n?"open":""),testId:"search-budget",isActive:n,callback:k,ignoreNodeRef:a,children:Object(o.jsxs)("div",{className:"criteriaModal ".concat(n?"visible":""),"data-testid":"search-budget-modal",children:[Object(o.jsxs)("p",{className:"criteriaModalTitle summary18 fwSemBold",children:[s.mobile&&Object(o.jsx)(Z.a,{position:"relative",weight:"light",onClick:c,"data-testid":"search-budget-close-mobile"}),Object(o.jsx)("span",{className:"criteriaModalTitleText","data-testid":"search-budget-title",children:"Budget"}),s.mobile?Object(o.jsx)("span",{className:"criteriaModalTitleErase summary14 fwSemBold pink",onClick:C,"data-testid":"search-budget-clear",children:"Effacer"}):Object(o.jsx)(Z.a,{position:"relative",size:"small",weight:"light",color:"greyLight",onClick:c,"data-testid":"search-budget-close-desktop"})]}),Object(o.jsx)("div",{className:"criteriaModalScroll",children:Object(o.jsx)("div",{className:"criteriaModalScrollWrap",children:Object(o.jsx)(Xe,{})})}),Object(o.jsx)(Q,{border:!p&&!g,onClear:C,onSave:k,testIdSuffix:"-budget",disabled:g})]})})})),Je=function(e){var t=e.visible,c=e.onClose,n=e.onClear,a=Object(r.useRef)(null),i=Object(r.useCallback)((function(){t?a.current.open():a.current.close()}),[a.current,t]);return Object(r.useEffect)(i,[t]),Object(o.jsx)(be,{ref:a,className:"popinCriteria popinCriteriaBudget",testIdPrefix:"popin-criteria-budget",children:Object(o.jsx)(qe,{visible:t,onClose:c,onClear:n})})},Qe=c("e82J");var Ze=Object(a.connect)((function(e){return{storePxmax:e.criterias[Ke.a.key],storePxmin:e.criterias[Ye.a.key],device:e.device}}))((function(e){var t=e.storePxmin,c=e.storePxmax,n=e.device,a=e.dispatch,l=Object(r.useState)(!1),u=l[0],d=l[1],b=Object(r.useRef)(null),j=y(),f=Object(i.a)(j,1)[0],m=f.pxmin,O=f.pxmax,p=Object(r.useMemo)((function(){return t&&c?"".concat(Object(Qe.convertToK)(t,"\u20ac")," - ").concat(Object(Qe.convertToK)(c,"\u20ac")):t&&!c?"".concat(Object(Qe.formatDigit)(t)," \u20ac (min.)"):!t&&c?"".concat(Object(Qe.formatDigit)(c)," \u20ac (max.)"):null}),[c,t]),h=Object(r.useCallback)((function(){return a({action:s.Keys.Criterias,type:"REMOVE_BUDGET"})}),[]),v=Object(r.useCallback)((function(){a({action:s.Keys.Criterias,type:"UPDATE_BUDGET_MIN_MAX_VALUE",payload:{min:m,max:O}})}),[m,O]),g=Object(r.useCallback)((function(){return d((function(e){return!e}))}),[u]),x=Object(r.useCallback)((function(){u&&d(!1),((c!==O||t!==m)&&m<=O||0===O)&&v()}),[c,O,t,m,u]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Fe,{ref:b,className:"tagBudget",placeholder:"Budget",value:p,onClick:g,onClear:h,open:u,testId:"search-budget-tag"}),n.mobile?Object(o.jsx)(Je,{visible:u,onClear:h,onClose:x}):Object(o.jsx)(qe,{visible:u,onClear:h,onClose:x,ignoreRef:b})]})})),$e=c("Ris8"),et=c.n($e),tt=(c("7QKH"),function(e){var t=e.name,c=e.checked,n=e.label,a=e.onChange,i=e.testId,s=Object(r.useState)(""),l=s[0],u=s[1];Object(r.useEffect)((function(){return u("string"===typeof t?t:"inputName_".concat(Object(Qe.rand)(1,9999999999)))}),[!0]);return Object(o.jsxs)("div",{className:"simpleCheckbox","data-testid":i,children:[Object(o.jsx)("input",{type:"checkbox",id:l,name:l,className:"simpleCheckboxInput",checked:c,onChange:function(e){return"function"===typeof a&&a(e.currentTarget.checked)},"data-testid":i?"".concat(i,"-input"):null}),Object(o.jsx)("label",{htmlFor:l,className:"simpleCheckboxLabel summary16","data-testid":i?"".concat(i,"-label"):null,children:n})]})});c("DeBj");var ct=Object(a.connect)((function(e){return{device:e.device}}))((function(e){var t=e.device,c=y(),n=Object(i.a)(c,2),a=n[0].nb_pieces,s=n[1],l=Object(r.useCallback)((function(e){return function(t){return s({type:"UPDATE_NB_ROOM",payload:{id:e,checked:t}})}}),[a]);return Object(o.jsxs)("div",{className:"criteriaRooms","data-testid":"search-filters-rooms",children:[Object(o.jsx)("p",{className:"tagFiltersPopinContentCriteriaTitle summary18 ".concat(t.mobile?"fwSemBold":""),"data-testid":"search-filters-rooms-label",children:"Nombre de pi\xe8ces"}),Object(o.jsx)("div",{className:"tagFiltersPopinContentCriteriaContent",children:et.a.labels.map((function(e){var t=e.id,c=e.shorterLabel;return Object(o.jsx)(tt,{checked:a.find((function(e){return e.id===t})).selected,label:c,onChange:l(t),testId:"search-filters-rooms-checkbox"},t)}))})]})})),rt=c("53+d");c("e0Vb");var nt=Object(a.connect)((function(e){return{device:e.device}}))((function(e){var t=e.device,c=y(),n=Object(i.a)(c,2),a=n[0],s=a.surfacemax,l=a.surfacemin,u=n[1],d=Object(r.useCallback)((function(e){return u({type:"UPDATE_SURFACES",payload:{min:e[0],max:250===e[1]?0:e[1]}})}),[]);return Object(o.jsxs)("div",{className:"criteriaSurfaces","data-testid":"search-filters-surface",children:[Object(o.jsx)("p",{className:"tagFiltersPopinContentCriteriaTitle summary18 ".concat(t.mobile?"fwSemBold":""),"data-testid":"search-filters-surface-label",children:"Surface habitable"}),Object(o.jsxs)("div",{className:"tagFiltersPopinContentCriteriaContent",children:[Object(o.jsx)(rt.default,{from:0,to:250,step:1,values:[l||0,s||250],onChange:d,buildLabel:function(e){return"".concat(e," m\xb2")},dynamicLabel:!0,testId:"search-filters-surface-range"}),Object(o.jsxs)("div",{className:"rangeLegend","data-testid":"search-filters-surface-legend",children:[Object(o.jsx)("span",{children:"Min."}),Object(o.jsx)("span",{children:"Max."})]})]})]})}));var at=Object(a.connect)((function(e){return{device:e.device}}))((function(e){var t=e.device,c=e.isTerrainSelected,n=y(),a=Object(i.a)(n,2),s=a[0],l=s.surf_terrainmin,u=s.surf_terrainmax,d=a[1],b=Object(r.useCallback)((function(e){return d({type:"UPDATE_SURFACES_TERRAIN",payload:{min:e[0],max:2e3===e[1]?0:e[1]}})}),[]),j=Object(r.useCallback)((function(){return d({type:"UPDATE_SURFACES_TERRAIN",payload:{min:0,max:0}})}),[]),f=Object(r.useCallback)((function(){!c&&j()}),[c]);return Object(r.useEffect)(f,[c]),Object(o.jsxs)("div",{className:"criteriaSurfaces","data-testid":"search-filters-surface-terr",children:[Object(o.jsx)("p",{className:"tagFiltersPopinContentCriteriaTitle summary18 ".concat(t.mobile?"fwSemBold":""),"data-testid":"search-filters-surface-terr-label",children:"Surface du terrain"}),Object(o.jsxs)("div",{className:"tagFiltersPopinContentCriteriaContent",children:[Object(o.jsx)(rt.default,{from:0,to:2e3,step:1,values:[l||0,u||2e3],onChange:b,buildLabel:function(e){return"".concat(e," m\xb2")},dynamicLabel:!0,testId:"search-filters-surface-terr-range"}),Object(o.jsxs)("div",{className:"rangeLegend",children:[Object(o.jsx)("span",{children:"Min."}),Object(o.jsx)("span",{children:"Max."})]})]})]})})),it=function(){return Object(o.jsx)("svg",{className:"svg svgTypeBienAppartement",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 31 30",children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M14.5 1.5c1.657 0 3 1.343 3 3v3.401c.441-.255.954-.401 1.5-.401h9c1.657 0 3 1.343 3 3V27c0 1.657-1.343 3-3 3h-9c-.896 0-1.7-.393-2.25-1.016C16.2 29.607 15.396 30 14.5 30H4c-1.657 0-3-1.343-3-3V4.5c0-1.657 1.343-3 3-3h10.5zM28 9.375h-9c-.621 0-1.125.504-1.125 1.125V27c0 .621.504 1.125 1.125 1.125h.333v-3.054c0-.828.672-1.5 1.5-1.5h5.334c.828 0 1.5.672 1.5 1.5l-.001 3.054H28c.621 0 1.125-.504 1.125-1.125V10.5c0-.621-.504-1.125-1.125-1.125zm-13.5-6H4c-.621 0-1.125.504-1.125 1.125V27c0 .621.504 1.125 1.125 1.125h.75v-2.958c0-.829.672-1.5 1.5-1.5h6c.828 0 1.5.671 1.5 1.5v2.958h.75c.621 0 1.125-.504 1.125-1.125V4.5c0-.621-.504-1.125-1.125-1.125zm11.292 22.071h-4.584v2.679h4.584v-2.679zm-13.917.096h-5.25v2.583h5.25v-2.583zM7 17.333c.828 0 1.5.672 1.5 1.5v1.75c0 .829-.672 1.5-1.5 1.5H5.5c-.828 0-1.5-.671-1.5-1.5v-1.75c0-.828.672-1.5 1.5-1.5H7zm6 0c.828 0 1.5.672 1.5 1.5v1.75c0 .829-.672 1.5-1.5 1.5h-1.5c-.828 0-1.5-.671-1.5-1.5v-1.75c0-.828.672-1.5 1.5-1.5H13zm13.167-.19c.828 0 1.5.671 1.5 1.5v1.821c0 .829-.672 1.5-1.5 1.5h-5.334c-.828 0-1.5-.671-1.5-1.5v-1.821c0-.829.672-1.5 1.5-1.5h5.334zM6.625 19.208h-.75v1h.75v-1zm6 0h-.75v1h.75v-1zm13.167-.19h-4.584v1.071h4.584v-1.071zM7 11c.828 0 1.5.672 1.5 1.5v1.75c0 .828-.672 1.5-1.5 1.5H5.5c-.828 0-1.5-.672-1.5-1.5V12.5c0-.828.672-1.5 1.5-1.5H7zm6 0c.828 0 1.5.672 1.5 1.5v1.75c0 .828-.672 1.5-1.5 1.5h-1.5c-.828 0-1.5-.672-1.5-1.5V12.5c0-.828.672-1.5 1.5-1.5H13zm13.167-.286c.828 0 1.5.672 1.5 1.5v1.822c0 .828-.672 1.5-1.5 1.5h-5.334c-.828 0-1.5-.672-1.5-1.5v-1.822c0-.828.672-1.5 1.5-1.5h5.334zM6.625 12.875h-.75v1h.75v-1zm6 0h-.75v1h.75v-1zm13.167-.286h-4.584v1.072h4.584v-1.072zM7 4.667c.828 0 1.5.671 1.5 1.5v1.75c0 .828-.672 1.5-1.5 1.5H5.5c-.828 0-1.5-.672-1.5-1.5v-1.75c0-.829.672-1.5 1.5-1.5H7zm6 0c.828 0 1.5.671 1.5 1.5v1.75c0 .828-.672 1.5-1.5 1.5h-1.5c-.828 0-1.5-.672-1.5-1.5v-1.75c0-.829.672-1.5 1.5-1.5H13zM6.625 6.542h-.75v1h.75v-1zm6 0h-.75v1h.75v-1z"})})},st=function(){return Object(o.jsx)("svg",{className:"svg svgTypeBienMaison",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 31 30",children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M16.298 3.312L28.665 15.45c.215.205.336.487.336.782 0 .294-.12.576-.336.781-.44.432-1.153.432-1.593 0l-.586-.575v9.455c.004.294-.113.578-.325.786-.212.209-.502.324-.802.32h-7.513c-.623 0-1.127-.495-1.127-1.106v-4.705h-2.42v4.705c0 .61-.504 1.106-1.127 1.106H5.658c-.622 0-1.127-.495-1.127-1.106v-9.47l-.6.59c-.211.21-.498.326-.797.325-.3.003-.587-.114-.797-.325-.215-.205-.336-.487-.336-.781 0-.295.121-.577.336-.782L14.705 3.31c.446-.415 1.146-.415 1.593 0zM15.5 5.657l-8.716 8.554v10.576h5.26v-4.705c.008-.607.508-1.098 1.127-1.106h4.644c.622 0 1.127.495 1.127 1.106v4.705h5.29l-.002-10.561-8.73-8.569z"})})},ot=function(){return Object(o.jsx)("svg",{className:"svg svgTypeBienLoft",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M12.15 7.875c.787 0 1.425.638 1.425 1.425v4.275h14.25c.787 0 1.425.638 1.425 1.425v12.825c0 .787-.638 1.425-1.425 1.425h-14.25c-.26 0-.503-.07-.713-.19-.209.12-.452.19-.712.19H2.175c-.787 0-1.425-.638-1.425-1.425V9.3c0-.787.638-1.425 1.425-1.425h9.975zm0 1.425H2.175v18.525h9.975V9.3zM27.825 15h-14.25v12.825h2.85V20.7c0-.787.638-1.425 1.425-1.425h5.7c.787 0 1.425.638 1.425 1.425v7.125h2.85V15zM23.55 26.4h-5.7v1.425h5.7V26.4zm0-2.851h-5.7v1.426h5.7v-1.426zM7.875 17.85c.787 0 1.425.638 1.425 1.425v2.85c0 .787-.638 1.425-1.425 1.425H6.45c-.787 0-1.425-.638-1.425-1.425v-2.85c0-.787.638-1.425 1.425-1.425h1.425zM23.55 20.7h-5.7v1.425h5.7V20.7zM7.875 19.275H6.45v2.85h1.425v-2.85zm0-8.55c.787 0 1.425.638 1.425 1.425V15c0 .787-.638 1.425-1.425 1.425H6.45c-.787 0-1.425-.638-1.425-1.425v-2.85c0-.787.638-1.425 1.425-1.425h1.425zm0 1.425H6.45V15h1.425v-2.85zm12.16-4.255c.394 0 .713.32.713.713 0 .393-.32.712-.713.712H15.76c-.393 0-.712-.319-.712-.712 0-.394.319-.713.712-.713h4.275zM17.992 2.95c.278.279.278.73 0 1.008L14.969 6.98c-.278.278-.73.278-1.008 0s-.278-.73 0-1.008l3.023-3.023c.278-.278.73-.278 1.008 0zM5.917 2.872L8.94 5.895c.279.278.279.73 0 1.008-.278.278-.729.278-1.007 0L4.91 3.88c-.278-.279-.278-.73 0-1.008s.73-.278 1.007 0zM11.437.75c.394 0 .713.319.713.712v4.276c0 .393-.319.712-.713.712-.393 0-.712-.319-.712-.713V1.462c0-.393.319-.712.713-.712z"})})},lt=function(){return Object(o.jsx)("svg",{className:"svg svgTypeBienTerrain",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 31 30",children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M10.413 3.563c2.89 0 5.233 2.342 5.233 5.232 0 .155-.007.309-.02.462 1.513.939 2.475 2.605 2.475 4.448 0 2.89-2.343 5.232-5.233 5.232-.519 0-1.026-.075-1.51-.22v3.046c1.34-.134 2.77-.2 4.305-.2 5.741 0 10.27 1.089 13.97 3.19.45.255.607.827.351 1.278-.255.45-.827.608-1.278.352-3.404-1.933-7.613-2.945-13.043-2.945-1.549 0-2.979.07-4.305.21l.001.942c0 .517-.42.937-.937.937-.518 0-.938-.42-.938-.937l-.001-.685c-2.733.467-4.989 1.286-6.93 2.464-.443.269-1.02.128-1.288-.315-.27-.443-.128-1.02.315-1.288 2.227-1.352 4.801-2.266 7.903-2.76l.002-3.295c-.49.149-1.002.227-1.527.227-2.89 0-5.232-2.343-5.232-5.233 0-1.843.96-3.51 2.474-4.448-.013-.153-.02-.307-.02-.462 0-2.89 2.343-5.232 5.233-5.232zm10.664-.706l6.864 6.78c.077.054.146.12.202.199l1.661 1.643c.369.363.372.957.008 1.325-.364.369-.957.372-1.325.008l-.174-.171v6.763c0 .753-.68 1.052-1.221.898l-10.37-.001c-1.25 0-1.25-1.875 0-1.875h9.716v-7.637l-6.037-5.964-2.787 2.61c-.378.355-.971.335-1.325-.043-.354-.377-.335-.97.043-1.325l3.446-3.227c.367-.344.941-.337 1.3.017zm-10.664 2.58c-1.855 0-3.358 1.504-3.358 3.358 0 .26.03.516.087.764l.176.757-.711.313c-1.21.533-2.006 1.731-2.006 3.076 0 1.854 1.503 3.357 3.357 3.357.221 0 .439-.02.65-.062L7.39 15.779c-.366-.366-.366-.96 0-1.326.366-.366.96-.366 1.326 0l.767.768.001-2.256c0-.518.42-.938.938-.938.517 0 .937.42.937.938v2.213l.667-.667c.366-.366.96-.366 1.326 0 .366.366.366.96 0 1.326l-1.158 1.158c.219.045.444.067.674.067 1.854 0 3.358-1.503 3.358-3.357 0-1.345-.797-2.543-2.007-3.076l-.711-.313.176-.757c.058-.248.087-.503.087-.764 0-1.854-1.503-3.357-3.358-3.357z"})})},ut=(c("cC2J"),c("CIki"));var dt=Object(a.connect)((function(e){return{device:e.device}}))((function(e){var t=e.device,c=y(),n=Object(i.a)(c,2),a=n[0].idtypebien,s=n[1],l=j.a.insertStateIntoComponent(a).values.filter((function(e){return!e.hidden})),u=Object(r.useCallback)((function(e){switch(e){case"appartement":return it;case"maison":return st;case"loft":return ot;case"terrain":return lt}return null}),[]),d=Object(r.useCallback)((function(e){return function(t){return s({type:"UPDATE_TYPE_BIEN",payload:{id:e,checked:t}})}}),[a]);return Object(o.jsxs)("div",{className:"criteriaBiens","data-testid":"search-filters-biens",children:[Object(o.jsx)("p",{className:"tagFiltersPopinContentCriteriaTitle summary18 ".concat(t.mobile?"fwSemBold":""),"data-testid":"search-filters-biens-label",children:"Type de bien"}),Object(o.jsx)("div",{className:"tagFiltersPopinContentCriteriaContent",children:Object(o.jsx)("div",{className:"criteriaBiensCheckboxesContainer",children:l.map((function(e){var t=e.id,c=e.label,r=e.rfrr,n=e.selected;return Object(o.jsx)(ut.default,{label:c,Picto:u(r),checked:n,onChange:d(t),checkedColor:"#33bca7",testId:"search-filters-biens-checkbox"},t)}))})})]})})),bt=c("rFox"),jt=function(e){var t=e.className,c=e.large,n=e.reverse,a=e.checked,i=e.label,s=e.tooltip,l=e.testId,u=e.onChange,d=e.onClickTooltip,b=e.Icon,j=Object(r.useCallback)((function(e){return"function"===typeof u&&u(e)}),[u]),f=Object(r.useMemo)((function(){var e=["checkbox"];return t&&e.push(t),!0===c&&e.push("checkboxLarge"),!0===n&&e.push("checkboxReverse"),e.join(" ")}),[c,n,t]),m=Object(r.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),"function"===typeof d&&d(e)}),[d]);return Object(o.jsx)("div",{className:f,"data-testid":l,children:Object(o.jsxs)("label",{className:"checkboxBtn","data-testid":l?"".concat(l,"-label"):null,children:[Object(o.jsx)("div",{className:"checkboxBtnToggle",children:Object(o.jsx)(bt.a,{checked:a,onChange:j,testID:l?"".concat(l,"-input"):null})}),Object(o.jsxs)("div",{className:"checkboxLabel",children:[Object(o.jsx)("span",{className:"checkboxLabelIcon",children:b?Object(o.jsx)(b,{}):""}),Object(o.jsxs)("span",{className:"checkboxLabelValue","data-testid":l?"".concat(l,"-label-text"):null,children:[i,!!s&&Object(o.jsx)("span",{className:"checkboxLabelTooltip","data-testid":l?"".concat(l,"-label-tooltip"):null,onClick:m,children:s})]})]})]})})},ft=function(e){var t=e.color,c=void 0===t?"#2B2B2B":t;return Object(o.jsx)("svg",{className:"svg svgdisabled",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21 20",children:Object(o.jsx)("path",{fill:c,fillRule:"evenodd",d:"M8.001 6.947c.193-.076.417-.048.588.075.171.122.269.322.261.532L8.63 13.2h5.125c.285 0 .535.194.605.471l.671 2.627c.051.2 0 .413-.137.568-1.185 1.347-2.887 2.12-4.669 2.12C6.793 18.984 4 16.19 4 12.757c0-2.554 1.607-4.889 4.001-5.81zM10.226 1c1.447 0 2.625 1.178 2.625 2.625 0 1.231-.856 2.26-2 2.542v1.478L15.095 9.1c.326.113.5.468.387.794a.6232.6232 0 01-.59.423.6326.6326 0 01-.204-.034L10.85 8.968V11.2h4.974c.298 0 .555.21.613.503l.833 4.164h1.354c.345 0 .625.28.625.625s-.28.625-.625.625h-1.866c-.298 0-.555-.21-.613-.502l-.834-4.165h-5.086a.6246.6246 0 01-.625-.625V6.167c-1.145-.282-2-1.311-2-2.542C7.6 2.178 8.778 1 10.226 1z"})})},mt=c("XKGq"),Ot=c.n(mt),pt=(c("f5Gt"),function(){var e=y(),t=Object(i.a)(e,2),c=t[0].si_pmr,n=t[1],a=Object(r.useCallback)((function(e){return n({type:"UPDATE_PMR",payload:e})}),[]);return Object(o.jsx)("div",{className:"criteriaPMR","data-testid":"search-filters-pmr",children:Object(o.jsx)(jt,{label:Ot.a.title,onChange:a,checked:c[0].selected,Icon:ft,reverse:!0,testId:"search-filters-pmr-checkbox"})})}),ht=c("Gcq0"),vt=c.n(ht),gt=(c("z2C4"),vt.a.getItem({rfrr:"livraison-immediate"})),xt=vt.a.getItem({rfrr:"6-mois"}),yt=vt.a.getItem({rfrr:"12-mois"}),Ct=vt.a.getItem({rfrr:"24-mois"}),kt=[{rangeVal:0,id:-1,label:"Indiff\xe9rent"},{rangeVal:1,id:gt.id,label:gt.shortLabel},{rangeVal:2,id:xt.id,label:xt.shortLabel},{rangeVal:3,id:yt.id,label:yt.shortLabel},{rangeVal:4,id:Ct.id,label:Ct.shortLabel}];var wt=Object(a.connect)((function(e){return{device:e.device}}))((function(e){var t=e.device,c=y(),n=Object(i.a)(c,2),a=n[0].nb_m_dt_dispo,s=n[1],l=Object(r.useMemo)((function(){var e=null===a||void 0===a?void 0:a.find((function(e){return e.selected}));return e?kt.find((function(t){return t.id===e.id})).rangeVal:kt[0].rangeVal}),[a]),u=Object(r.useCallback)((function(){return s({type:"RESET_DELAYS"})}),[]),d=Object(r.useCallback)((function(e){return s({type:"UPDATE_DELAYS",payload:e})}),[]),b=Object(r.useCallback)((function(e){var t=kt.find((function(t){return t.rangeVal===e[0]})).id;-1===t?u():d({id:t,value:!0})}),[]);return Object(o.jsxs)("div",{className:"criteriaDateLivraison","data-testid":"search-filters-delay",children:[Object(o.jsx)("p",{className:"tagFiltersPopinContentCriteriaTitle summary18 ".concat(t.mobile?"fwSemBold":""),"data-testid":"search-filters-delay-label",children:"Date de livraison"}),Object(o.jsx)("div",{className:"tagFiltersPopinContentCriteriaContent",children:Object(o.jsx)(rt.Range,{from:0,to:4,step:1,values:[l],onChange:b,buildLabel:function(e){return"".concat(kt.find((function(t){return t.rangeVal===e})).label)},dynamicLabel:!0,showSteps:!0,testId:"search-filters-delay-range"})})]})})),Lt=c("jNCE"),Nt=(c("o1yF"),j.a.getItem({value:4}).id);var St=Object(a.connect)((function(e){return{device:e.device}}))((function(e){var t,c=e.device,n=e.popinRef,a=y(),s=Object(i.a)(a,2),l=s[0],u=s[1],d=Te([l]),b=Object(i.a)(d,2),j=b[0],f=b[1],m=!0===(null===(t=l.idtypebien.find((function(e){return e.id===Nt})))||void 0===t?void 0:t.selected),O=Object(r.useCallback)((function(){u({type:"RESET_MODAL_FILTERS"}),f([l])}),[]),p=Object(r.useCallback)((function(){n.current.close(),f([l])}),[l]);return Object(o.jsxs)(ne.a,{className:"tagFiltersPopinContent",testId:"search-filters",callback:p,children:[Object(o.jsxs)("p",{className:"tagFiltersPopinContentTitle summary18 fwSemBold","data-testid":"search-filters-label",children:["Filtres",c.mobile&&Object(o.jsx)("a",{className:"tagFiltersPopinContentTitleClear summary14 fwSemBold",href:"#",onClick:O,"data-testid":"search-filters-clear-mobile",children:"Tout effacer"})]}),Object(o.jsx)("div",{className:"tagFiltersPopinContentCriteriaScroll",children:Object(o.jsxs)("div",{className:"tagFiltersPopinContentCriteriaContainer",children:[Object(o.jsx)("div",{className:"tagFiltersPopinContentCriteria",children:Object(o.jsx)(ct,{})}),Object(o.jsx)("div",{className:"tagFiltersPopinContentCriteria surface",children:Object(o.jsx)(nt,{})}),Object(o.jsxs)("div",{className:"tagFiltersPopinContentCriteria",children:[Object(o.jsx)(dt,{}),Object(o.jsx)(pt,{})]}),Object(o.jsx)(Lt.a,{className:"tagFiltersPopinContentCriteria surfaceTerr",show:m,animationDelay:".3s",children:Object(o.jsx)(at,{isTerrainSelected:m})}),Object(o.jsx)("div",{className:"tagFiltersPopinContentCriteria",children:Object(o.jsx)(wt,{})})]})}),Object(o.jsx)("div",{className:"tagFiltersPopinContentBottomBar",children:Object(o.jsx)(Q,{border:!j,onClear:O,onSave:p,testIdSuffix:"-filtres"})})]})}));var Et=Object(a.connect)((function(e){return{criterias:e.criterias,device:e.device}}))((function(e){var t=e.criterias,c=e.device,n=e.dispatch,a=Object(r.useRef)(null),l=y(),u=Object(i.a)(l,1)[0],d=u.surfacemin,b=u.surfacemax,j=u.surf_terrainmin,f=u.surf_terrainmax,m=u.si_pmr,O=u.nb_m_dt_dispo,p=u.nb_pieces,h=u.idtypebien,v=Object(r.useMemo)((function(){var e=0;return e+=0!==t.surfacemin?1:0,e+=0!==t.surfacemax?1:0,e+=0!==t.surf_terrainmin?1:0,e+=0!==t.surf_terrainmax?1:0,e+=t.si_pmr[0].selected?1:0,e+=t.nb_m_dt_dispo.filter((function(e){return e.selected})).length?1:0,e+=t.nb_pieces.filter((function(e){return e.selected})).length?1:0,e+="0,1,2"!==t.idtypebien.filter((function(e){return e.selected})).map((function(e){return e.id})).join()?1:0}),[t]),g=v>0||!c.desktop?"Filtres":"Plus de filtres",x=Object(r.useCallback)((function(){return n({action:s.Keys.Criterias,type:"UPDATE_MODAL_FILTERS",payload:{surfacemin:d,surfacemax:b,surf_terrainmin:j,surf_terrainmax:f,si_pmr:m,nb_m_dt_dispo:O,nb_pieces:p,idtypebien:h}})}),[d,b,j,f,m,O,p,h]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Fe,{className:"tagFilters",placeholder:g,count:v||null,hideChevron:!0,active:v>0,onClick:function(){return!a.current.isOpen()&&a.current.open()},testId:"search-filters-tag"}),Object(o.jsx)(je,{ref:a,onClose:x,className:"tagFiltersPopin",testIdPrefix:"popin-criteria-filters",children:Object(o.jsx)(St,{popinRef:a})})]})})),_t=c("cvT0"),Pt=(c("S+nQ"),c("DSZ2"),function(e){var t=e.device,c=e.isPubBannerDisplay,n=e.criterias,a=Object(r.useState)(130),i=a[0],s=a[1],l=Object(r.useState)(!1),u=l[0],d=l[1],b=Object(r.useRef)(null);Object(r.useEffect)((function(){return d(!0)}),[]),Object(r.useEffect)((function(){null!==b&&void 0!==b&&b.current&&s(b.current.getBoundingClientRect().top)}),[c]);var j=Object(o.jsxs)(x,{initialState:n,reducer:v,children:[Object(o.jsx)(C,{}),Object(o.jsxs)("div",{className:"searchCriteriasResumeWrap",children:[Object(o.jsx)(ye,{}),Object(o.jsx)("div",{className:"searchCriteriasResumeTags",children:Object(o.jsxs)("div",{className:"searchCriteriasResumeTagsWrap",children:[Object(o.jsx)(Me,{}),Object(o.jsx)(Ze,{}),Object(o.jsx)(Et,{})]})})]})]});return t.mobile?Object(o.jsx)("div",{className:"searchCriteriasResume ".concat(u?"reveal":""),"data-testid":"searchcriteriasresume",children:j}):Object(o.jsx)(_t.a,{ref:b,className:"searchCriteriasResume ".concat(u?"reveal":""),stickyClass:"stickyRefiner",stickyLimit:i,testId:"searchcriteriasresume",children:j})});t.default=Object(a.connect)((function(e){return{device:e.device,isPubBannerDisplay:e.globals.isPubBannerDisplay,criterias:e.criterias}}))(Pt)}}]);