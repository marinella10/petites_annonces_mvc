(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[77],{"8xVT":function(e,t,a){"use strict";a.r(t),a.d(t,"ContactPopin",(function(){return b}));var n=a("aNYv"),c=a("Lbod"),o=a("mXGw"),l=a("PLdi"),i=a("ym3q"),p=a("UutA"),r=a("DTV4"),u=a("CdHe"),d=a("oj5K"),O=a("QC+a"),s=Object(p.default)(d.a).withConfig({componentId:"sc-5dbpq6-0"})(["","{max-width:44rem;height:auto;min-height:100%;padding:calc(1.25rem * 2) 1.25rem;background-color:",";@media screen and (min-width:","){min-height:0;padding:calc(1.25rem * 2) calc(1.25rem * 7);}}"],O.g,r.a.white,u.b),_=a("AiCw"),y=a("oYCi"),b=function(e){Object(c.a)(e);var t=Object(o.useRef)(null),a=null,p=Object(_.c)(),r=Object(n.a)(p,2),u=r[0],d=u.displayed,O=u.hideSuccessPopup,b=u.formType,f=u.returnType,T=u.idAnnonce,m=u.formSent,E=u.customSubtitle,N=u.reverseTitleAndSubtitle,S=u.defaultMessage,C=u.closeDelay,j=u.popinClassName,A=r[1],R=Object(l.a)(),D=Object(o.useCallback)((function(){A({type:"SET_FORM_LOADING",payload:!0}),A({type:"SET_FORM_LOADING_DONE",payload:!1})}),[]),M=Object(o.useCallback)((function(e){var n=e.pdf;a=setTimeout((function(){t.current.close(),O||A({type:"SHOW_CONTACT_FORM_SUCCESS",payload:{pdf:n,returnType:f}}),"plan"!==f||m||A({type:"SET_FORM_SENT_ONCE",payload:!0}),A({type:"SET_FORM_LOADING",payload:!1}),A({type:"SET_FORM_LOADING_DONE",payload:!0})}),C)}),[t,O,f,m,C]),h=Object(o.useCallback)((function(e){t.current.close(),A({type:"SHOW_CONTACT_FORM_ERROR",payload:{err:e}}),A({type:"SET_FORM_LOADING",payload:!1}),A({type:"SET_FORM_LOADING_DONE",payload:!1})}),[t]),F=Object(o.useCallback)((function(){A({type:"HIDE_CONTACT_FORM"})}),[]);return Object(o.useEffect)((function(){d&&t.current.open()}),[d]),Object(o.useEffect)((function(){return A({type:"SET_FORM_SENT_ONCE",payload:!1}),A({type:"SET_FORM_LOADING",payload:!1}),A({type:"SET_FORM_LOADING_DONE",payload:!1}),function(){return clearTimeout(a)}}),[]),Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(s,{ref:t,className:j,tinyClose:!0,onClose:F,testIdPrefix:"popin-contact",children:Object(y.jsx)(i.default,{formType:b,customSubtitle:E,reverseTitleAndSubtitle:N,className:"",idAnnonce:T,program:R,defaultMessage:S,onSubmit:D,onSuccess:M,onError:h,testId:"detail-popin-contact"})})})};t.default=b}}]);